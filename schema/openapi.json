{
  "openapi": "3.0.1",
  "info": {
    "title": "UKVI Complaints",
    "description": "UKVI Complaints form.",
    "version": "0.1.0"
  },
  "tags": [
    {
      "name": "ukvi-complaints",
      "description": "ukvi-complaints form"
    }
  ],
  "paths": {
    "/confirm/": {
      "post": {
        "tags": [
          "confirm"
        ],
        "summary": "Confirmation payload",
        "requestBody": {
          "description": "Request object created from user input in the webform process",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Confirm"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {}
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "VacCentre": {
        "type": "object",
        "required": [
          "country",
          "city"
        ],
        "properties": {
          "country": {
            "$ref": "#/components/schemas/CountryList"
          },
          "city": {
            "type": "string"
          }
        }
      },
      "SscCentre": {
        "type": "object",
        "required": [
          "city"
        ],
        "properties": {
          "city": {
            "type": "string"
          }
        }
      },
      "UkVcasCentre": {
        "type": "object",
        "required": [
          "city"
        ],
        "properties": {
          "city": {
            "type": "string"
          }
        }
      },
      "ComplaintDetailsText": {
        "type": "string"
      },
      "AgentDetails": {
        "type": "object",
        "required": [
          "agentName",
          "agentType",
          "agentEmail"
        ],
        "properties": {
          "agentName": {
            "type": "string"
          },
          "agentType": {
            "type": "string",
            "enum": [
              "LEGAL_REP",
              "RELATIVE",
              "SPONSOR",
              "SUPPORT_ORG"
            ]
          },
          "agentEmail": {
            "type": "string"
          },
          "agentPhone": {
            "type": "string"
          }
        }
      },
      "AgentRepresentativeApplicantDetails": {
        "type": "object",
        "required": [
          "agentRepresentativeApplicantName",
          "agentRepresentativeApplicantNationality",
          "agentRepresentativeApplicantDob"
        ],
        "properties": {
          "applicantName": {
            "type": "string"
          },
          "applicantNationality": {
            "$ref": "#/components/schemas/CountryList"
          },
          "applicantDob": {
            "type": "string"
          }
        }
      },
      "ApplicantDetails": {
        "type": "object",
        "required": [
          "applicantName",
          "applicantNationality",
          "applicantDob",
          "applicantEmail"
        ],
        "properties": {
          "applicantName": {
            "type": "string"
          },
          "applicantNationality": {
            "$ref": "#/components/schemas/CountryList"
          },
          "applicantDob": {
            "type": "string"
          },
          "applicantEmail": {
            "type": "string"
          },
          "applicantPhone": {
            "type": "string"
          }
        }
      },
      "Reference": {
        "nullable": true,
        "oneOf": [
          {
            "$ref": "#/components/schemas/GwfReference"
          },
          {
            "$ref": "#/components/schemas/HoReference"
          },
          {
            "$ref": "#/components/schemas/IhsReference"
          },
          {
            "$ref": "#/components/schemas/UanReference"
          }
        ]
      },
      "GwfReference": {
        "type": "string",
        "example": "GWF012345678"
      },
      "HoReference": {
        "type": "string",
        "example": "012345678"
      },
      "IhsReference": {
        "type": "string",
        "example": "IHS123456789"
      },
      "UanReference": {
        "type": "string",
        "example": "1234-5678-9123-4567"
      },
      "CountryList": {
        "type": "string",
        "enum": [
          "Falkland Islands",
          "Guernsey",
          "Jersey",
          "Isle of Man",
          "United Kingdom",
          "Austria",
          "Belgium",
          "Bulgaria",
          "Croatia",
          "Cyprus",
          "Czech Republic",
          "Denmark",
          "Estonia",
          "Finland",
          "France",
          "Germany",
          "Greece",
          "Hungary",
          "Ireland",
          "Italy",
          "Latvia",
          "Lithuania",
          "Luxembourg",
          "Malta",
          "Netherlands",
          "Poland",
          "Portugal",
          "Romania",
          "Slovakia",
          "Slovenia",
          "Spain",
          "Sweden",
          "Afghanistan",
          "Aland Islands",
          "Albania",
          "Algeria",
          "American Samoa",
          "Andorra",
          "Angola",
          "Anguilla",
          "Antigua and Barbuda",
          "Argentina",
          "Armenia",
          "Aruba",
          "Australia",
          "Azerbaijan",
          "Bahamas",
          "Bahrain",
          "Bangladesh",
          "Barbados",
          "Belarus",
          "Belize",
          "Benin",
          "Bermuda",
          "Bhutan",
          "Bolivia",
          "Bonaire, Sint Eustatius and Saba",
          "Bosnia and Herzegovina",
          "Botswana",
          "Brazil",
          "British Subject",
          "British Protected Person",
          "British National (Overseas)",
          "British Overseas Citizen",
          "British Overseas Territory Citizen",
          "Brunei Darussalam",
          "Burkina Faso",
          "Burundi",
          "Cambodia",
          "Cameroon",
          "Canada",
          "Cape Verde",
          "Cayman Islands",
          "Central African Republic",
          "Chad",
          "Chile",
          "China",
          "Christmas Island",
          "Cocos (Keeling) Islands",
          "Colombia",
          "Comoros",
          "Congo",
          "Congo, Democratic Republic of the",
          "Cook Islands",
          "Costa Rica",
          "Cuba",
          "Curacao",
          "Djibouti",
          "Dominica",
          "Dominican Republic",
          "Ecuador",
          "Egypt",
          "El Salvador",
          "Equatorial Guinea",
          "Eritrea",
          "Ethiopia",
          "Faroe Islands",
          "Fiji",
          "French Guiana",
          "French Polynesia",
          "French Southern Territories",
          "Gabon",
          "Gambia",
          "Georgia",
          "Ghana",
          "Gibraltar",
          "Greenland",
          "Grenada",
          "Guadeloupe",
          "Guam",
          "Guatemala",
          "Guinea",
          "Guinea-Bissau",
          "Guyana",
          "Haiti",
          "Holy See (Vatican City State)",
          "Honduras",
          "Hong Kong Special Administrative Region of China",
          "Iceland",
          "India",
          "Indonesia",
          "Iran",
          "Iraq",
          "Israel",
          "Ivory Coast",
          "Jamaica",
          "Japan",
          "Jordan",
          "Kazakhstan",
          "Kenya",
          "Kiribati",
          "Korea, North (Democratic People's Republic of)",
          "Korea, South (Republic of Korea)",
          "Kosovo",
          "Kuwait",
          "Kyrgyzstan",
          "Laos",
          "Lebanon",
          "Lesotho",
          "Liberia",
          "Libya",
          "Liechtenstein",
          "Macao",
          "Macedonia, The Former Yugoslav Republic Of",
          "Madagascar",
          "Malawi",
          "Malaysia",
          "Maldives",
          "Mali",
          "Marshall Islands",
          "Martinique",
          "Mauritania",
          "Mauritius",
          "Mayotte",
          "Mexico",
          "Micronesia (Federated States of)",
          "Moldova, Republic of",
          "Monaco",
          "Mongolia",
          "Montenegro",
          "Montserrat",
          "Morocco",
          "Mozambique",
          "Myanmar",
          "Namibia",
          "Nationality not specified",
          "Nauru",
          "Nepal",
          "Netherlands Antilles",
          "New Caledonia",
          "New Zealand",
          "Nicaragua",
          "Niger",
          "Nigeria",
          "Niue",
          "Norfolk Island",
          "Northern Mariana Islands",
          "Norway",
          "Oman",
          "Pakistan",
          "Palau",
          "Palestinian Authority",
          "Panama",
          "Papua New Guinea",
          "Paraguay",
          "Peru",
          "Philippines",
          "Pitcairn",
          "Puerto Rico",
          "Qatar",
          "Refugee, under Article 1 of the 1951 Convention",
          "Refugee, other than Article 1",
          "Reunion",
          "Russian Federation",
          "Rwanda",
          "Saint Barthelemy",
          "Saint Helena, Ascension and Tristan da Cunha",
          "Saint Kitts and Nevis",
          "Saint Lucia",
          "Saint Martin",
          "Saint Pierre and Miquelon",
          "Saint Vincent and the Grenadines",
          "Samoa",
          "San Marino",
          "Sao Tome and Principe",
          "Saudi Arabia",
          "Senegal",
          "Serbia",
          "Seychelles",
          "Sierra Leone",
          "Singapore",
          "Sint Maarten (Dutch part)",
          "Solomon Islands",
          "Somalia",
          "South Africa",
          "South Georgia and the South Sandwich Islands",
          "South Sudan",
          "Sri Lanka",
          "Stateless, under the 1954 Convention",
          "Sudan",
          "Suriname",
          "Svalbard and Jan Mayen Islands",
          "Swaziland",
          "Switzerland",
          "Syria",
          "Taiwan",
          "Tajikistan",
          "Tanzania",
          "Thailand",
          "Timor-Leste",
          "Togo",
          "Tokelau",
          "Tonga",
          "Trinidad and Tobago",
          "Tunisia",
          "Turkey",
          "Turkish controlled area of Cyprus",
          "Turkmenistan",
          "Turks and Caicos Islands",
          "Tuvalu",
          "Uganda",
          "Ukraine",
          "United Arab Emirates",
          "United Nations",
          "United Nations Agency",
          "United States Minor Outlying Islands",
          "United States of America",
          "Uruguay",
          "Uzbekistan",
          "Vanuatu",
          "Venezuela",
          "Vietnam",
          "Virgin Islands, British",
          "Virgin Islands, U.S.",
          "Wallis and Futuna Islands",
          "Western Sahara",
          "Yemen",
          "Zambia",
          "Zimbabwe"
        ]
      },
      "ApplicantWithAgentDetails": {
        "type": "object",
        "required": [
          "applicantDetails",
          "agentDetails"
        ],
        "properties": {
          "applicantDetails": {
            "$ref": "#/components/schemas/AgentRepresentativeApplicantDetails"
          },
          "agentDetails": {
            "$ref": "#/components/schemas/AgentDetails"
          }
        }
      },
      "ReporterDetails": {
        "type": "object",
        "oneOf": [
          {
            "$ref": "#/components/schemas/ApplicantWithAgentDetails"
          },
          {
            "$ref": "#/components/schemas/ApplicantDetails"
          }
        ]
      },
      "ComplaintTypeRequiringCorrespondence": {
        "type": "string",
        "enum": [
          "SUBMITTING_APPLICATION",
          "MAKING_APPOINTMENT",
          "BIOMETRIC_RESIDENCE_PERMIT",
          "UNCLEAR_MISLEADING_INFORMATION",
          "POOR_STAFF_BEHAVIOUR",
          "POOR_INFORMATION",
          "EXISTING_COMPLAINT",
          "SOMETHING_ELSE"
        ]
      },
      "ComplaintTypePrevious": {
        "type": "string",
        "nullable": true,
        "enum": [
          "SUBMITTING_APPLICATION",
          "MAKING_APPOINTMENT",
          "DOCUMENT_DELAYS",
          "IMMIGRATION_DECISION",
          "IMMIGRATION_STATUS_CHANGE",
          "BIOMETRIC_RESIDENCE_PERMIT",
          "REFUND",
          "POOR_STAFF_BEHAVIOUR",
          "POOR_INFORMATION",
          "SOMETHING_ELSE"
        ]
      },
      "SubmittingApplicationComplaint": {
        "type": "object",
        "required": [
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "MakingAppointmentComplaint": {
        "type": "object",
        "required": [
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "BrpComplaint": {
        "type": "object",
        "required": [
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "InformationIssueComplaint": {
        "type": "object",
        "required": [
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "StaffBehaviourComplaint": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/FaceToFaceExperience"
          },
          {
            "$ref": "#/components/schemas/PhoneExperience"
          },
          {
            "$ref": "#/components/schemas/LetterEmailExperience"
          }
        ]
      },
      "FaceToFaceExperience": {
        "type": "object",
        "required": [
          "experienceType",
          "location",
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "experienceType": {
            "type": "string",
            "enum": [
              "FACE_TO_FACE"
            ]
          },
          "location": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/VacCentre"
              },
              {
                "$ref": "#/components/schemas/SscCentre"
              },
              {
                "$ref": "#/components/schemas/UkVcasCentre"
              }
            ]
          },
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "PhoneExperience": {
        "type": "object",
        "required": [
          "experienceType",
          "callDetails",
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "experienceType": {
            "type": "string",
            "enum": [
              "PHONE"
            ]
          },
          "callDetails": {
            "type": "object",
            "required": [
              "numberCalled",
              "date",
              "time",
              "calledFrom"
            ],
            "properties": {
              "numberCalled": {
                "type": "string"
              },
              "date": {
                "type": "string",
                "example": "30 April"
              },
              "time": {
                "type": "string",
                "example": "10:30am"
              },
              "calledFrom": {
                "type": "string"
              }
            }
          },
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "LetterEmailExperience": {
        "type": "object",
        "required": [
          "experienceType",
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "experienceType": {
            "type": "string",
            "enum": [
              "LETTER_OR_EMAIL"
            ]
          },
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "ExistingComplaint": {
        "type": "object",
        "required": [
          "complaintDetails",
          "reporterDetails"
        ],
        "properties": {
          "complaintDetails": {
            "type": "object",
            "required": [
              "complaintReferenceNumber",
              "complaintText",
              "reason"
            ],
            "properties": {
              "complaintReferenceNumber": {
                "type": "string",
                "nullable": true
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              },
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypePrevious"
              }
            }
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          }
        }
      },
      "SomethingElseComplaint": {
        "type": "object",
        "required": [
          "reference",
          "reporterDetails",
          "complaintDetails"
        ],
        "properties": {
          "reference": {
            "$ref": "#/components/schemas/Reference"
          },
          "reporterDetails": {
            "$ref": "#/components/schemas/ReporterDetails"
          },
          "complaintDetails": {
            "type": "object",
            "required": [
              "reason",
              "complaintText"
            ],
            "properties": {
              "reason": {
                "$ref": "#/components/schemas/ComplaintTypeRequiringCorrespondence"
              },
              "complaintText": {
                "$ref": "#/components/schemas/ComplaintDetailsText"
              }
            }
          }
        }
      },
      "Confirm": {
        "type": "object",
        "properties": {
          "complaint": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/SubmittingApplicationComplaint"
              },
              {
                "$ref": "#/components/schemas/MakingAppointmentComplaint"
              },
              {
                "$ref": "#/components/schemas/BrpComplaint"
              },
              {
                "$ref": "#/components/schemas/InformationIssueComplaint"
              },
              {
                "$ref": "#/components/schemas/StaffBehaviourComplaint"
              },
              {
                "$ref": "#/components/schemas/ExistingComplaint"
              },
              {
                "$ref": "#/components/schemas/SomethingElseComplaint"
              }
            ]
          }
        }
      }
    }
  }
}